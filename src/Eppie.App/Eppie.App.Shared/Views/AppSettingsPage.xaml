<local:AppSettingsPageBase x:Class="Tuvi.App.Shared.Views.AppSettingsPage"
                           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                           xmlns:controls="using:Tuvi.App.Shared.Controls"
                           xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                           xmlns:local="using:Tuvi.App.Shared.Views"
                           xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                           xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
                           xmlns:viewmodels="using:Tuvi.App.ViewModels"
                           Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
                           Loaded="OnLoaded"
                           mc:Ignorable="d">

    <local:AppSettingsPageBase.DataContext>
        <viewmodels:SettingsPageViewModel />
    </local:AppSettingsPageBase.DataContext>

    <local:AppSettingsPageBase.Resources>

        <Style x:Key="SettingsSectionSubtitleTextBlockStyle"
               BasedOn="{StaticResource SubtitleTextBlockStyle}"
               TargetType="TextBlock">
            <Setter Property="FontSize" Value="18" />
            <Setter Property="FontWeight" Value="Medium" />
            <Setter Property="Margin" Value="0,0,0,24" />
        </Style>

        <x:Double x:Key="NormalOptionGapHeight">36</x:Double>
        <x:Double x:Key="GroupOptionGapHeight">24</x:Double>
        <x:Double x:Key="EndSectionOptionGapHeight">48</x:Double>

        <x:Double x:Key="NormalOptionControlWidth">276</x:Double>
        <x:Double x:Key="ButtonMinWidth">80</x:Double>

        <Thickness x:Key="PageHorizontalContentPadding">44,0,48,0</Thickness>

    </local:AppSettingsPageBase.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Grid Grid.Row="0"
              Margin="0,24"
              Padding="{StaticResource PageHorizontalContentPadding}">

            <TextBlock x:Uid="ApplicationSettingsTitle" FontSize="14" />

            <!--  ToDo: Issue #840 - Check logic  -->
            <Button HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Command="{x:Bind ViewModel.WipeApplicationDataCommand}">
                <StackPanel Orientation="Horizontal">
                    <!--  ToDo: Issue #840 - &#xF3B1; icon not showing in desktop app (default font is uno-fluentui-assets.ttf)  -->
                    <FontIcon FontSize="16" Glyph="&#xF3B1;" />
                    <TextBlock x:Uid="SignOutButtonContent" Margin="4,0,0,0" />
                </StackPanel>
            </Button>
        </Grid>

        <ScrollViewer Grid.Row="1" Padding="{StaticResource PageHorizontalContentPadding}">
            <StackPanel x:Name="SettingsControl" Margin="0,0,0,24">

                <TextBlock x:Uid="AppearanceSettingsSectionSubtitle" Style="{StaticResource SettingsSectionSubtitleTextBlockStyle}" />

                <controls:OptionControl x:Uid="LanguageOption" GapHeight="{StaticResource NormalOptionGapHeight}">
                    <controls:OptionControl.OptionContent>
                        <Grid>
                            <!--  ToDo: Issue #840 - In the old code there is a TextBlock about restarting here.  -->
                            <!--
                                ToDo: Issue #840 - Now Use InfoBar Message: You need to restart the app for the language change to take effect.
                                Action: Restart app button if possible
                            -->

                            <!--  ToDo: Issue #840 - Check logic  -->
                            <controls:LanguageSelectionControl x:Name="LanguageSelector"
                                                               Width="{StaticResource NormalOptionControlWidth}"
                                                               HorizontalAlignment="Left"
                                                               LanguageChangedHandler="OnLanguageChanged"
                                                               ManifestLanguages="{x:Bind ViewModel.ManifestLanguages, Mode=OneTime}" />
                            <TextBlock HorizontalAlignment="Right"
                                       Foreground="{ThemeResource TextFillColorSecondary}"
                                       Style="{StaticResource BodyTextBlockStyle}">
                                <Span>
                                    <Run x:Uid="HelpTranslateFirstPart" />
                                    <Hyperlink NavigateUri="{Binding Source={StaticResource Brand}, Path=Translation}">
                                        <Run x:Uid="HelpTranslateSecondPart" />
                                    </Hyperlink>
                                </Span>
                            </TextBlock>
                        </Grid>
                    </controls:OptionControl.OptionContent>
                </controls:OptionControl>

                <!--  ToDo: Issue #840 - Add logic  -->
                <controls:OptionControl x:Uid="ThemesOption" GapHeight="{StaticResource EndSectionOptionGapHeight}">

                    <controls:OptionControl.OptionContent>
                        <ComboBox x:Name="ThemeCombobox"
                                  Width="{StaticResource NormalOptionControlWidth}"
                                  HorizontalAlignment="Left">
                            <x:String>(System mode) [hardcode]</x:String>
                            <x:String>Light mode [hardcode]</x:String>
                            <x:String>Dark mode [hardcode]</x:String>
                        </ComboBox>
                    </controls:OptionControl.OptionContent>
                </controls:OptionControl>

                <TextBlock x:Uid="SecuritySettingsSectionSubtitle" Style="{StaticResource SettingsSectionSubtitleTextBlockStyle}" />

                <controls:OptionControl x:Uid="LaunchPasswordOption"
                                        GapHeight="{StaticResource NormalOptionGapHeight}"
                                        HideNote="True">
                    <controls:OptionControl.OptionContent>
                        <Grid>
                            <!--  ToDo: Issue #840 - Add logic  -->
                            <ToggleSwitch HorizontalAlignment="Left" VerticalAlignment="Center" />
                            <!--  ToDo: Issue #840 - Check logic  -->
                            <Button x:Uid="ChangeMasterPasswordButton"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Command="{x:Bind ViewModel.ChangeMasterPasswordCommand}" />
                        </Grid>
                    </controls:OptionControl.OptionContent>
                </controls:OptionControl>

                <controls:OptionControl x:Uid="SeedPhraseOption" GapHeight="{StaticResource GroupOptionGapHeight}">
                    <controls:OptionControl.OptionContent>
                        <muxc:Expander x:Uid="SeedPhraseExpander"
                                       HorizontalAlignment="Stretch"
                                       HorizontalContentAlignment="Stretch">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <!--  ToDo: Issue #840 - Add logic  -->
                                <TextBlock Grid.Column="0"
                                           HorizontalAlignment="Left"
                                           VerticalAlignment="Center"
                                           IsTextSelectionEnabled="True"
                                           Text="Not implemented"
                                           TextWrapping="WrapWholeWords" />
                                <!--  ToDo: Issue #840 - Add copy command  -->
                                <Button Grid.Column="1"
                                        Margin="8,0,0,0"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center">
                                    <StackPanel Orientation="Horizontal">
                                        <SymbolIcon Symbol="Copy" />
                                        <TextBlock x:Uid="CopySeedPhraseButtonContent" Margin="4,0,0,0" />
                                    </StackPanel>
                                </Button>
                            </Grid>
                        </muxc:Expander>
                    </controls:OptionControl.OptionContent>
                </controls:OptionControl>

                <controls:OptionControl x:Uid="ConfirmSeedPhraseOption"
                                        GapHeight="{StaticResource NormalOptionGapHeight}"
                                        HideNote="True">
                    <controls:OptionControl.OptionContent>
                        <Grid>
                            <!--  ToDo: Issue #840 - Check logic  -->
                            <Button x:Uid="ConfirmSeedPhraseButton"
                                    MinWidth="{StaticResource ButtonMinWidth}"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Command="{x:Bind ViewModel.ConfirmSeedPhraseCommand}" />
                            <TextBlock x:Uid="ConfirmSeedPhraseNote"
                                       HorizontalAlignment="Right"
                                       VerticalAlignment="Center"
                                       Foreground="{ThemeResource SystemFillColorCriticalBrush}" />
                        </Grid>
                    </controls:OptionControl.OptionContent>
                </controls:OptionControl>

                <controls:OptionControl x:Uid="ExportToFileOption" GapHeight="{StaticResource GroupOptionGapHeight}">
                    <controls:OptionControl.OptionContent>
                        <!--  ToDo: Issue #840 - Check logic  -->
                        <Button MinWidth="{StaticResource ButtonMinWidth}"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Top"
                                Command="{x:Bind ViewModel.ExportBackupCommand}"
                                CommandParameter="{StaticResource FileOperationProvider}"
                                Content="Export" />
                    </controls:OptionControl.OptionContent>
                </controls:OptionControl>

                <controls:OptionControl x:Uid="RestoreFromFileOption"
                                        GapHeight="{StaticResource NormalOptionGapHeight}"
                                        HideNote="True">
                    <controls:OptionControl.OptionContent>
                        <!--  ToDo: Issue #840 - Check logic  -->
                        <Button x:Uid="RestoreFromFileButton"
                                MinWidth="{StaticResource ButtonMinWidth}"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                Command="{x:Bind ViewModel.ImportBackupCommand}"
                                CommandParameter="{StaticResource FileOperationProvider}" />
                    </controls:OptionControl.OptionContent>
                </controls:OptionControl>

                <controls:OptionControl x:Uid="EncryptionKeyOption" GapHeight="{StaticResource EndSectionOptionGapHeight}">
                    <controls:OptionControl.OptionContent>
                        <Grid>
                            <!--  ToDo: Issue #840 - Add logic  -->
                            <Button x:Uid="EncryptionKeyImportButton"
                                    MinWidth="{StaticResource ButtonMinWidth}"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Top" />

                            <!--  ToDo: Issue #840 - Check logic  -->
                            <!--  ToDo: Issue #840 - Rename PgpKeysCommand  -->
                            <HyperlinkButton MinWidth="{StaticResource ButtonMinWidth}"
                                             HorizontalAlignment="Right"
                                             VerticalAlignment="Top"
                                             Command="{x:Bind ViewModel.PgpKeysCommand}">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock x:Uid="ViewAllEncryptionKeyButtonContent" />
                                    <FontIcon Margin="4,0,0,0"
                                              FontSize="16"
                                              Glyph="&#xE76C;" />
                                </StackPanel>
                            </HyperlinkButton>
                        </Grid>
                    </controls:OptionControl.OptionContent>
                </controls:OptionControl>


                <TextBlock x:Uid="DevelopmentSettingsSectionSubtitle" Style="{StaticResource SettingsSectionSubtitleTextBlockStyle}" />

                <controls:OptionControl x:Uid="LoggingOption" GapHeight="{StaticResource EndSectionOptionGapHeight}">
                    <controls:OptionControl.OptionContent>
                        <Grid>
                            <!--  ToDo: Issue #840 - Check logic  -->
                            <ComboBox Width="{StaticResource NormalOptionControlWidth}"
                                      HorizontalAlignment="Left"
                                      VerticalAlignment="Top"
                                      ItemsSource="{x:Bind ViewModel.LogLevels, Mode=OneWay}"
                                      SelectedItem="{x:Bind ViewModel.SelectedLogLevel, Mode=TwoWay}" />

                            <!--  ToDo: Issue #840 - Check logic  -->
                            <Button x:Uid="OpenLogFolderButton"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Top"
                                    Command="{x:Bind ViewModel.OpenLogFolderCommand}">
                                <ToolTipService.ToolTip>
                                    <TextBlock Text="{x:Bind ViewModel.LogFolder, Mode=OneTime}" TextWrapping="Wrap" />
                                </ToolTipService.ToolTip>
                            </Button>
                        </Grid>
                    </controls:OptionControl.OptionContent>
                </controls:OptionControl>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</local:AppSettingsPageBase>
